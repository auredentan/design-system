@import "./variables";

@mixin lx-text-field-label($theme, $has-helper: false) {
    @include lx-typography(body1);

    display: block;
    margin-bottom: $lx-base-spacing-unit;
    color: lx-theme-color-variant($theme, N);
}

@mixin lx-text-field-label-helper() {
    margin-bottom: $lx-base-spacing-unit / 2;
}

@mixin lx-text-field-helper($theme) {
    @include lx-typography(caption);

    display: block;
    margin-bottom: $lx-base-spacing-unit;
    color: lx-theme-color-variant($theme, L2);
}

@mixin lx-text-field-input-wrapper($theme, $has-indicator: false, $is-multiple: false) {
    position: relative;
    display: flex;
    align-items: center;
    background-color: lx-theme-color-variant($theme, L6);
    border-radius: 4px;
    box-shadow: inset 0 0 0 1px lx-theme-color-variant($theme, L4);
    outline: none;
    transition: background-color $lx-text-field-transition-duration, box-shadow $lx-text-field-transition-duration;

    @if $is-multiple {
        min-height: $lx-text-field-height;
        padding: 3px;
    }

    @else {
        height: $lx-text-field-height;
        padding: 0 $lx-text-field-horizontal-padding;
    }

    @if $has-indicator {
        padding-right: $lx-base-spacing-unit * 1.5;
    }
}

@mixin lx-text-field-input-icon($theme) {
    margin-right: $lx-base-spacing-unit;
    color: lx-theme-color-variant($theme, N);
}

@mixin lx-text-field-input-native($theme) {
    @include lx-typography(body1);

    width: 100%;
    height: $lx-text-field-height;
    padding: 0;
    border: none;
    margin: 0;
    background-color: transparent;
    color: lx-theme-color-variant($theme, N);
    line-height: $lx-text-field-height;
    outline: none;
}

@mixin lx-text-field-placeholder($theme) {
    color: lx-theme-color-variant($theme, L2);
}

@mixin lx-text-field-disabled-state($theme) {
    color: lx-theme-color-variant($theme, L3);
    pointer-events: none;
}

@mixin lx-text-field-input-wrapper-state($state, $theme) {
    @if $state == hover {
        background-color: lx-theme-color-variant($theme, L5);
    }

    @else if $state == focus {
        @if $theme == dark {
            background-color: lx-theme-color-variant(light, N) !important;
            box-shadow: inset 0 0 0 2px lx-theme-color-variant(primary, L2);
        }

        @else if $theme == light {
            background-color: transparent !important;
            box-shadow: inset 0 0 0 2px lx-theme-color-variant(light, L2);
        }
    }

    @else if $state == disabled {
        background-color: transparent;
        box-shadow: inset 0 0 0 1px lx-theme-color-variant($theme, L4);
        pointer-events: none;
    }
}

@mixin lx-text-field-input-wrapper-validity($validity, $theme) {
    @if $theme == dark {
        @if $validity == valid {
            box-shadow: inset 0 0 0 2px lx-theme-color-variant(green, N);
        }

        @else if $validity == error {
            box-shadow: inset 0 0 0 2px lx-theme-color-variant(red, N);
        }
    }

    @else if $theme == light {
        box-shadow: inset 0 0 0 2px lx-theme-color-variant(light, N);
    }
}

@mixin lx-text-field-input-validity($validity, $theme) {
    margin-left: $lx-base-spacing-unit;

    @if $theme == dark {
        @if $validity == valid {
            color: lx-theme-color-variant(green, N);
        }

        @else if $validity == error {
            color: lx-theme-color-variant(red, N);
        }
    }

    @else if $theme == light {
        color: lx-theme-color-variant(light, N);
    }
}
