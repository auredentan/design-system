```javascript import
import { Autocomplete, AutocompleteMultiple, List, ListItem, ListItemSize, Size, TextField, Chip, ListDivider, Icon, ListSubheader } from 'LumX';
import { useBooleanState } from 'LumX/core/react/hooks';
import { DOWN_KEY_CODE, ENTER_KEY_CODE, TAB_KEY_CODE, UP_KEY_CODE } from 'LumX/core/constants';
import { mdiClose } from '@mdi/js';
```

# Autocomplete

## Default

```javascript jsx withThemeSwitcher
(theme) => {
    const CITIES = [
        {
            text: 'Los Angeles',
            id: 'losangeles'
        },
        {
            text: 'San Francisco',
            id: 'sanfrancisco'
        },
        {
            text: 'Paris',
            id: 'paris'
        },
        {
            text: 'Montpellier',
            id: 'montpellier'
        },
        {
            text: 'Bordeaux',
            id: 'bordeaux'
        },
        {
            text: 'Toulouse',
            id: 'toulouse'
        },
        {
            text: 'Lyon',
            id: 'lyon'
        },
        {
            text: 'Montevideo',
            id: 'montevideo'
        }
    ];

    const [showSuggestions, setShowSuggestions] = React.useState(false);
    const [filterValue, setFilterValue] = React.useState('');
    const inputRef = React.useRef(null);

    const filteredCities = CITIES.filter(city => city.text.replace(' ', '').toLowerCase().includes(filterValue.replace(' ', '').toLowerCase()));
    const closeAutocomplete = () => setShowSuggestions(false);

    const setSelectedCity = (city) => {
        setFilterValue(city.text);
        setShowSuggestions(false);
    }

    const onChange = (value) => {
        setFilterValue(value);
        setShowSuggestions(value.length > 0);
    };

    const {
        activeItemIndex,
    } = List.useKeyboardListNavigation(
        filteredCities,
        inputRef,
        setSelectedCity,
    );

    const onFocus = (evt) => {
        setShowSuggestions(filterValue.length > 0);
    }

    return (
        <Autocomplete
            theme={theme}
            isOpen={showSuggestions}
            onClose={closeAutocomplete}
            value={filterValue}
            onChange={onChange}
            onFocus={onFocus}
            inputRef={inputRef}
        >
            <List isClickable>
                { filteredCities.length > 0 ? filteredCities.map((city, index) => (
                        <ListItem
                            size={ListItemSize.tiny}
                            isClickable
                            key={city.id}
                            isHighlighted={index === activeItemIndex}
                            onItemSelected={() => setSelectedCity(city)}
                        >
                            <div>{city.text}</div>
                        </ListItem>
                    )) : (
                        <ListItem
                            size={ListItemSize.tiny}
                        >
                            <div>No results</div>
                        </ListItem>
                    )
                }
            </List>
        </Autocomplete>
    );
};
```

### Properties

<PropTable component="Autocomplete" />


## Multiple

```javascript jsx withThemeSwitcher
(theme) => {
    const CITIES = [
        {
            text: 'Los Angeles',
            id: 'losangeles'
        },
        {
            text: 'San Francisco',
            id: 'sanfrancisco'
        },
        {
            text: 'Paris',
            id: 'paris'
        },
        {
            text: 'Montpellier',
            id: 'montpellier'
        },
        {
            text: 'Bordeaux',
            id: 'bordeaux'
        },
        {
            text: 'Toulouse',
            id: 'toulouse'
        },
        {
            text: 'Lyon',
            id: 'lyon'
        },
        {
            text: 'Montevideo',
            id: 'montevideo'
        }
    ];

    const [showSuggestions, setShowSuggestions] = React.useState(false);
    const [wasBackspacePressed, setWasBackspacePressed] = React.useState(false);
    const [activeChip, setActiveChip] = React.useState(-1);
    const [filterValue, setFilterValue] = React.useState('');
    const [navigationSuggestionValue, setNavigationSuggestionValue] = React.useState(undefined);
    const [selectedValues, setSelectedValues] = React.useState([]);
    const inputRef = React.useRef(null);

    const filteredCities = CITIES.filter((city) => {
        const noSpacesCity = city.text.replace(' ', '').toLowerCase();

        return noSpacesCity.includes(filterValue.replace(' ', '').toLowerCase());
    });

    const closeAutocomplete = () => setShowSuggestions(false);

    const setSelectedCity = (city) => {
        setSelectedValues([...selectedValues, city]);
        setFilterValue('');
        setShowSuggestions(false);
        setNavigationSuggestionValue(undefined);
    }

    const onNewCityCreated = (newCity) => {
        if (newCity && newCity.length > 0) {
            setSelectedCity({
                text: newCity,
                id: newCity.replace(' ', '').toLowerCase()
            })
        }
    };

    const clearSelectedValue = (event, city) => {
        inputRef.current.focus();
        setSelectedValues(city ? selectedValues.filter((c) => c.id !== city.id) : []);
    };

    const onChange = (value) => {
        setFilterValue(value);
        setShowSuggestions(value.length > 0);
    };

    const onItemNavigated = (city) => {
        if (city) {
            setNavigationSuggestionValue(city.text);
        }
    };

    const onBackspacePressed = () => {
        if (filterValue.length === 0 && selectedValues.length > 0) {
            if (wasBackspacePressed) {
                selectedValues.pop();
                setSelectedValues(selectedValues);
                setActiveChip(-1);
                setWasBackspacePressed(false);
            } else {
                setActiveChip(selectedValues.length - 1);
                setWasBackspacePressed(true);
            }
        }

    };

    const {
        activeItemIndex,
    } = List.useKeyboardListNavigation(
        filteredCities,
        inputRef,
        setSelectedCity,
        onItemNavigated,
        onNewCityCreated,
        onBackspacePressed,
        true,
    );

    const onFocus = (evt) => {
        setShowSuggestions(filterValue.length > 0);
    }

    return (
        <AutocompleteMultiple
            theme={theme}
            isOpen={showSuggestions}
            onClose={closeAutocomplete}
            value={navigationSuggestionValue || filterValue}
            onChange={onChange}
            onFocus={onFocus}
            values={selectedValues}
            inputRef={inputRef}
            selectedChipRender={(city, index) => (
                        <Chip
                            key={index}
                            isClickable
                            after={<Icon icon={mdiClose} size={Size.xxs} />}
                            size={Size.s}
                            onAfterClick={event => clearSelectedValue(event, city)}
                            isHighlighted={index === activeChip}
                        >
                            {city.text}
                        </Chip>
            )}
        >
            <List isClickable>
                { filteredCities.length > 0 ? filteredCities.map((city, index) => (
                        <ListItem
                            size={ListItemSize.tiny}
                            isClickable
                            key={city.id}
                            isHighlighted={index === activeItemIndex}
                            onItemSelected={() => setSelectedCity(city)}
                        >
                            <div>{city.text}</div>
                        </ListItem>
                    )) : (
                        <ListItem
                            size={ListItemSize.tiny}
                        >
                            <div>No results</div>
                        </ListItem>
                    )
                }
            </List>
        </AutocompleteMultiple>
    );
};
```

### Properties

<PropTable component="AutocompleteMultiple" />
