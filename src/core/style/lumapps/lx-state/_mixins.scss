@mixin lx-state-high($state, $color, $theme) {
    @if $state == state-default {
        @if $theme == dark {
            background-color: lx-theme-color-variant($color, N);
            color: lx-theme-best-color(lx-theme-color-variant($color, N));
        } @else if $theme == light {
            background-color: lx-theme-color-variant($theme, N);
            color: lx-theme-color-variant($color, N);
        }
    } @else if $state == state-hover {
        @if $theme == dark {
            background-color: lx-theme-color-variant($color, D1);
        } @else if $theme == light {
            background-color: lx-theme-color-variant($theme, L1);
        }
    } @else if $state == state-active {
        @if $theme == dark {
            background-color: lx-theme-color-variant($color, D2);
        } @else if $theme == light {
            background-color: lx-theme-color-variant($theme, L2);
        }
    } @else if $state == state-focus {
        @if $theme == dark {
            box-shadow: 0 0 0 2px lx-theme-color-variant($color, L3);
        } @else if $theme == light {
            box-shadow: 0 0 0 2px lx-theme-color-variant($theme, L3);
        }
    } @else if $state == state-disabled {
        // prettier-ignore
        color:
            lx-theme-best-color(
                lx-theme-color-variant($color, L3),
                (lx-theme-color-variant(light, N), lx-theme-color-variant(dark, L3))
            );
        pointer-events: none;

        @if $theme == dark {
            background-color: lx-theme-color-variant($color, L3);
        } @else if $theme == light {
            background-color: lx-theme-color-variant($theme, L3);
        }
    }
}

@mixin lx-state-medium($state, $color, $has-focus-inset: false) {
    @if $state == state-default {
        background-color: lx-theme-color-variant($color, L5);
        color: lx-theme-color-variant($color, N);
    } @else if $state == state-hover {
        background-color: lx-theme-color-variant($color, L4);
    } @else if $state == state-active {
        background-color: lx-theme-color-variant($color, L3);
    } @else if $state == state-focus {
        @if $has-focus-inset == true {
            box-shadow: inset 0 0 0 2px lx-theme-color-variant($color, L3);
        } @else {
            box-shadow: 0 0 0 2px lx-theme-color-variant($color, L3);
        }
    } @else if $state == state-disabled {
        background-color: lx-theme-color-variant($color, L6);
        color: lx-theme-color-variant($color, L3);
        pointer-events: none;
    }
}

@mixin lx-state-as-selected($state, $theme, $has-focus-inset: false) {
    @if $theme == dark {
        @if $state == state-default {
            background-color: lx-theme-color-variant(primary, L4);
            color: lx-theme-color-variant(primary, D2);
        } @else if $state == state-hover {
            background-color: lx-theme-color-variant(primary, L3);
        } @else if $state == state-active {
            background-color: lx-theme-color-variant(primary, L2);
        } @else if $state == state-focus {
            @if $has-focus-inset == true {
                box-shadow: inset 0 0 0 2px lx-theme-color-variant(primary, L3);
            } @else {
                box-shadow: 0 0 0 2px lx-theme-color-variant(primary, L3);
            }
        }
    } @else if $theme == light {
        @if $state == state-default {
            background-color: lx-theme-color-variant(light, L2);
            color: lx-theme-color-variant(dark, N);
        } @else if $state == state-hover {
            background-color: lx-theme-color-variant(light, L3);
        } @else if $state == state-active {
            background-color: lx-theme-color-variant(light, L4);
        } @else if $state == state-focus {
            @if $has-focus-inset == true {
                box-shadow: inset 0 0 0 2px lx-theme-color-variant(light, L3);
            } @else {
                box-shadow: 0 0 0 2px lx-theme-color-variant(light, L3);
            }
        }
    }
}

@mixin lx-state-low($state, $color, $has-focus-inset: false) {
    @if $state == state-default {
        background-color: transparent;
        color: lx-theme-color-variant($color, N);
    } @else if $state == state-hover {
        background-color: lx-theme-color-variant($color, L5);
    } @else if $state == state-active {
        background-color: lx-theme-color-variant($color, L4);
    } @else if $state == state-focus {
        @if $has-focus-inset == true {
            box-shadow: inset 0 0 0 2px lx-theme-color-variant($color, L3);
        } @else {
            box-shadow: 0 0 0 2px lx-theme-color-variant($color, L3);
        }
    } @else if $state == state-disabled {
        background-color: transparent;
        color: lx-theme-color-variant($color, L3);
        pointer-events: none;
    }
}

@mixin lx-state-disabled-text($theme) {
    color: lx-theme-color-variant($theme, L3);
    pointer-events: none;
}

@mixin lx-state($state, $emphasis, $color, $theme: null, $has-focus-inset: false) {
    @if $emphasis == emphasis-high {
        @include lx-state-high($state, $color, $theme);
    } @else if $emphasis == emphasis-medium {
        @include lx-state-medium($state, $color, $has-focus-inset);
    } @else if $emphasis == emphasis-low {
        @include lx-state-low($state, $color, $has-focus-inset);
    }
}
