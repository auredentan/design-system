/* ==========================================================================
   Switch
   ========================================================================== */

.lx-switch {
    $self: &;

    display: flex;

    &--position-right {
        flex-direction: row-reverse;
    }

    &__input-wrapper {
        @include lx-switch-input-wrapper;

        flex-shrink: 0;
    }

    &__input-native {
        @include lx-switch-input-native;
    }

    &__input-placeholder {
        @include lx-switch-placeholder;
    }

    &__input-background {
        #{ $self }--is-unchecked & {
            @include lx-switch-input-background(unchecked);
        }

        #{ $self }--is-checked & {
            @include lx-switch-input-background(checked);
        }

        #{ $self }--theme-light#{ $self }--is-unchecked & {
            @include lx-state(state-default, emphasis-low, dark);
        }

        #{ $self }--theme-dark#{ $self }--is-unchecked & {
            @include lx-state(state-default, emphasis-low, light);
        }

        #{ $self }--theme-light#{ $self }--is-checked & {
            @include lx-state(state-default, emphasis-high, $lx-switch-checked-color, dark);
        }

        #{ $self }--theme-dark#{ $self }--is-checked & {
            @include lx-state(state-default, emphasis-high, $lx-switch-checked-color, light);
        }
    }

    &__input-indicator {
        #{ $self }--theme-light#{ $self }--is-unchecked & {
            @include lx-switch-input-indicator(unchecked, dark);
        }

        #{ $self }--theme-dark#{ $self }--is-unchecked & {
            @include lx-switch-input-indicator(unchecked, light);
        }

        #{ $self }--theme-light#{ $self }--is-checked & {
            @include lx-switch-input-indicator(checked, dark);
        }

        #{ $self }--theme-dark#{ $self }--is-checked & {
            @include lx-switch-input-indicator(checked, light);
        }
    }

    &__content {
        flex: 1;
    }

    &__label,
    &__helper {
        #{ $self }--position-left & {
            padding-left: $lx-spacing-unit;
        }

        #{ $self }--position-right & {
            padding-right: $lx-spacing-unit;
        }
    }

    &__label {
        #{ $self }--theme-light & {
            @include lx-input-label(dark);
        }

        #{ $self }--theme-dark & {
            @include lx-input-label(light);
        }
    }

    &__helper {
        #{ $self }--theme-light & {
            @include lx-input-helper(dark);
        }

        #{ $self }--theme-dark & {
            @include lx-input-helper(light);
        }
    }
}

/* Switch states
   ========================================================================== */

// Disabled state
.lx-switch--is-disabled {
    .lx-switch__input-native {
        pointer-events: none;
    }

    .lx-switch__input-placeholder {
        @include lx-state-disabled-input;
    }

    &.lx-switch--theme-light {
        .lx-switch__label,
        .lx-switch__helper {
            @include lx-state-disabled-text(dark);
        }
    }

    &.lx-switch--theme-dark {
        .lx-switch__label,
        .lx-switch__helper {
            @include lx-state-disabled-text(light);
        }
    }
}

// Hover state
.lx-switch--theme-light.lx-switch--is-unchecked .lx-switch__input-native:hover + .lx-switch__input-placeholder {
    .lx-switch__input-background {
        @include lx-state(state-hover, emphasis-low, dark);
    }
}

.lx-switch--theme-dark.lx-switch--is-unchecked .lx-switch__input-native:hover + .lx-switch__input-placeholder {
    .lx-switch__input-background {
        @include lx-state(state-hover, emphasis-low, light);
    }
}

.lx-switch--theme-light.lx-switch--is-checked .lx-switch__input-native:hover + .lx-switch__input-placeholder {
    .lx-switch__input-background {
        @include lx-state(state-hover, emphasis-high, $lx-switch-checked-color, dark);
    }
}

.lx-switch--theme-dark.lx-switch--is-checked .lx-switch__input-native:hover + .lx-switch__input-placeholder {
    .lx-switch__input-background {
        @include lx-state(state-hover, emphasis-high, $lx-switch-checked-color, light);
    }
}

// Active state
.lx-switch--theme-light.lx-switch--is-unchecked .lx-switch__input-native:active + .lx-switch__input-placeholder {
    .lx-switch__input-background {
        @include lx-state(state-active, emphasis-low, dark);
    }
}

.lx-switch--theme-dark.lx-switch--is-unchecked .lx-switch__input-native:active + .lx-switch__input-placeholder {
    .lx-switch__input-background {
        @include lx-state(state-active, emphasis-low, light);
    }
}

.lx-switch--theme-light.lx-switch--is-checked .lx-switch__input-native:active + .lx-switch__input-placeholder {
    .lx-switch__input-background {
        @include lx-state(state-active, emphasis-high, $lx-switch-checked-color, dark);
    }
}

.lx-switch--theme-dark.lx-switch--is-checked .lx-switch__input-native:active + .lx-switch__input-placeholder {
    .lx-switch__input-background {
        @include lx-state(state-active, emphasis-high, $lx-switch-checked-color, light);
    }
}

// Focus state
.lx-switch--theme-light.lx-switch--is-unchecked
.lx-switch__input-native[data-focus-visible-added]
+ .lx-switch__input-placeholder {
    @include lx-state(state-focus, emphasis-low, dark);
}

.lx-switch--theme-dark.lx-switch--is-unchecked
.lx-switch__input-native[data-focus-visible-added]
+ .lx-switch__input-placeholder {
    @include lx-state(state-focus, emphasis-low, light);
}

.lx-switch--theme-light.lx-switch--is-checked
.lx-switch__input-native[data-focus-visible-added]
+ .lx-switch__input-placeholder {
    @include lx-state(state-focus, emphasis-high, $lx-switch-checked-color, dark);
}

.lx-switch--theme-dark.lx-switch--is-checked
.lx-switch__input-native[data-focus-visible-added]
+ .lx-switch__input-placeholder {
    @include lx-state(state-focus, emphasis-high, $lx-switch-checked-color, light);
}
